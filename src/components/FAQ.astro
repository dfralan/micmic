---
import frontendMentorFAQs from "../assets/faqs";
import Container from './blocks/Container.astro';

const faqs = frontendMentorFAQs.map((faq) => ({
    question: faq.question,
    answer: faq.answer,
}));
---


<Container id="faqs">
    <div class="mt-12 md:mt-20 flex flex-col gap-12 lg:flex-row">
        <div class="text-center lg:w-5/12 lg:pl-12 lg:text-left">
            <h2
                class="text-2xl font-bold text-gray-800 md:text-3xl lg:text-4xl"
            >
                Preguntas frecuentes
            </h2>
            <p
                class="mt-4 text-gray-600"
                
            >
                Encontr√° lo que estas buscando.
            </p>
        </div>
        <div
            class="divide-y divide-gray-200 border-y border-gray-200 lg:w-7/12"
        >
            {
                faqs.map((faq) => (
                    <div>
                        <dl class="faq mx-auto max-w-2xl">
                            <dt class="text-lg">
                                <button
                                    type="button"
                                    class="flex w-full items-start justify-between py-6 text-left text-gray-400"
                                    aria-controls="faq-1"
                                    data-active="false"
                                >
                                    <span
                                        class="font-medium text-gray-900"
                                    >
                                        {faq.question}
                                    </span>
                                    <span class="ml-6 flex h-7 items-center">
                                        <svg
                                            class="arrow-down h-6 w-6 rotate-0 transform duration-300"
                                            xmlns="http://www.w3.org/2000/svg"
                                            fill="none"
                                            viewBox="0 0 24 24"
                                            stroke-width="1.5"
                                            stroke="currentColor"
                                            aria-hidden="true"
                                        >
                                            <path
                                                stroke-linecap="round"
                                                stroke-linejoin="round"
                                                d="M19.5 8.25l-7.5 7.5-7.5-7.5"
                                            />
                                        </svg>
                                    </span>
                                </button>
                            </dt>
                            <dd
                                class="faq-answer block max-h-0 overflow-hidden pr-12 duration-300 ease-in-out"
                                id="faq-1"
                                style="max-height: 0px;"
                            >
                                <p
                                    class="pb-6 text-base text-gray-600" fill-as-inner="" loom={faq.answer}
                                >
                                    {faq.answer}
                                </p>
                            </dd>
                        </dl>
                    </div>
                ))
            }
        </div>
    </div>
</Container>
<script is:inline>
    const e = document.querySelectorAll(".faq");
    for (let t = 0; t < e.length; t++) {
        const a = e[t].querySelector(".faq-answer"),
            o = e[t].querySelector(".arrow-down");
        e[t].addEventListener("click", () => {
            for (let r = 0; r < e.length; r++) {
                const s = e[r].querySelector(".faq-answer"),
                    l = e[r].querySelector(".arrow-down");
                e[t] != e[r] &&
                    ((s.style.maxHeight = "0px"),
                    l.classList.replace("rotate-180", "rotate-0"));
            }
            o.classList.contains("rotate-180")
                ? ((a.style.maxHeight = 0 + "px"),
                  o.classList.replace("rotate-180", "rotate-0"))
                : ((a.style.maxHeight = a.scrollHeight + "px"),
                  o.classList.replace("rotate-0", "rotate-180"));
        });
    }
</script>